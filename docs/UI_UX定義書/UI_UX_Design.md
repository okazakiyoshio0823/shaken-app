# UI/UX定義書 - Mechaniq（メカニーク）

## デザインコンセプト

### ビジョン

自動車整備工場の現場で使いやすい、直感的で効率的な車検見積システム

### デザイン原則

1. **シンプルさ** - 必要な情報に素早くアクセス
2. **視認性** - 重要な情報が一目でわかる
3. **効率性** - 最小限のステップで見積作成完了
4. **一貫性** - 統一されたUIパターン

---

## カラースキーム

### メインカラー（CSS変数）

```css
:root {
    --primary: #1a5a8a;        /* プライマリー（青） */
    --primary-light: #2d7ab8;  /* プライマリー（明） */
    --success: #27ae60;        /* 成功（緑） */
    --danger: #e74c3c;         /* 危険（赤） */
    --warning: #f39c12;        /* 警告（オレンジ） */
    --bg: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%);
    --card-bg: #ffffff;
    --text: #333;
    --text-light: #666;
    --border: #e0e0e0;
}
```

### テーマカラーオプション

| テーマ名 | カラーコード | 用途 |
|---------|-------------|------|
| 標準 | #1a5a8a | デフォルト（信頼感のある青） |
| ダーク | #2c3e50 | 落ち着いた雰囲気 |
| レッド | #c0392b | スポーティ・情熱的 |
| グリーン | #27ae60 | エコ・環境配慮 |
| パープル | #8e44ad | 高級感・個性的 |

---

## タイポグラフィ

### フォントファミリー

```css
font-family: 'Noto Sans JP', sans-serif;
```

### フォントウェイト

| 用途 | ウェイト |
|------|---------|
| 通常テキスト | 400 |
| 中程度強調 | 500 |
| 見出し | 600 |
| 強調 | 700 |

---

## レイアウト構成

### メイン画面（index.html）

```
┌─────────────────────────────────────────────────────┐
│  ヘッダー（アプリ名、ログアウトボタン）               │
├─────────────────────────────────────────────────────┤
│  ツールバー（クリア、履歴、テンプレート、保存、等）    │
├─────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────┐  │
│  │  🏢 会社情報カード                             │  │
│  └───────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────┐  │
│  │  👤 お客様情報カード                           │  │
│  │    - 使用者情報                                │  │
│  │    - 所有者情報                                │  │
│  └───────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────┐  │
│  │  🚙 車両情報カード                             │  │
│  │    - ナンバープレート                          │  │
│  │    - メーカー・車名・型式                      │  │
│  │    - 車検満了日・重量区分                      │  │
│  └───────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────┐  │
│  │  🔧 整備内容カード                             │  │
│  │    - 整備項目テーブル                          │  │
│  │    - 項目追加フォーム                          │  │
│  │    - グローバル値引き設定                      │  │
│  └───────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────┐  │
│  │  📋 法定費用・諸費用カード                     │  │
│  └───────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────┐  │
│  │  💰 合計金額カード                             │  │
│  └───────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────┐  │
│  │  📝 備考・メモカード                           │  │
│  │    - 見積書備考                                │  │
│  │    - お客様メモ（社内用）                      │  │
│  │    - 写真添付                                  │  │
│  └───────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────┘
```

---

## コンポーネント仕様

### カード

```css
.card {
    background: var(--card-bg);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 15px 20px;
    font-weight: 600;
    border-radius: 12px 12px 0 0;
}
```

### ボタン

| クラス | 用途 | スタイル |
|--------|------|---------|
| `.btn-primary` | 主要アクション | 青グラデーション |
| `.btn-success` | 保存・確定 | 緑 |
| `.btn-danger` | 削除・キャンセル | 赤 |
| `.btn-warning` | 注意を促すアクション | オレンジ |
| `.btn-outline` | 副次的アクション | 白背景・枠線 |
| `.btn-secondary` | グレーアクション | グレー |
| `.btn-info` | 情報系アクション | 青 |

### フォームコントロール

```css
.form-control {
    width: 100%;
    padding: 10px 12px;
    border: 2px solid var(--border);
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.2s;
}

.form-control:focus {
    border-color: var(--primary);
    outline: none;
}
```

### モーダル

```css
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background: white;
    border-radius: 12px;
    max-width: 700px;
    width: 90%;
    max-height: 85vh;
    overflow: hidden;
}
```

---

## インタラクションデザイン

### ホバーエフェクト

- ボタン: 背景色が少し濃くなる
- カード項目: 背景色変化
- リンク: 下線表示

### トランジション

```css
transition: all 0.2s ease;
```

### アニメーション

- モーダル表示: フェードイン
- ボタン押下: 軽い押し込み効果

---

## アイコン使用規則

### 絵文字アイコン

| アイコン | 意味 | 使用箇所 |
|---------|------|---------|
| 🔧 | 整備・メンテナンス | ヘッダー、整備カード |
| 🏢 | 会社・事業者 | 会社情報カード |
| 👤 | 顧客・ユーザー | お客様情報カード |
| 🚙 | 車両 | 車両情報カード |
| 📋 | 書類・リスト | 法定費用カード |
| 💰 | 金額 | 合計金額カード |
| 📝 | メモ・備考 | 備考カード |
| 💾 | 保存 | 保存ボタン |
| 🗑️ | クリア・削除 | クリアボタン |
| 📊 | 履歴・データ | 履歴ボタン |
| 📂 | ファイル・フォルダ | 読み込みボタン |
| 👁️ | プレビュー | プレビューボタン |
| 📷 | カメラ・写真 | QRスキャン、写真添付 |
| 📱 | スマートフォン | LINE共有 |
| 🔔 | 通知・リマインダー | リマインダー |
| 🚪 | 出口 | ログアウト |
| 🎨 | デザイン | テーマ設定 |
| ➕ | 追加 | 項目追加 |
| ❌ | 削除・閉じる | 削除ボタン、モーダル閉じる |
| ✅ | 完了・成功 | 成功メッセージ |

---

## 印刷プレビューデザイン

### ページ構成

1. **表紙ページ**
   - 会社情報（ロゴ、名称、住所、電話）
   - 書類タイトル「御 見 積 書」
   - 顧客情報・車両情報（2カラム）
   - 有効期限・車検満了日
   - 車両状態チェック図
   - 整備メモ欄

2. **整備明細ページ**
   - ページヘッダー（ナンバー、ページ番号）
   - 整備項目テーブル
   - 20行/ページ（空行で埋める）

3. **総括ページ**
   - 法定費用・諸費用一覧
   - お支払い金額（大きく表示）
   - 整備保証書・免責事項
   - 承認欄（担当、確認）

### プリントモード

| モード | 説明 |
|--------|------|
| 自動 | コンテンツ量に応じて最適化 |
| 標準 | デフォルトサイズ |
| やや詰める | 90%サイズ |
| かなり詰める | 80%サイズ |

---

## レスポンシブデザイン

### ブレークポイント

```css
@media (max-width: 768px) {
    /* タブレット・スマートフォン向け調整 */
    .form-row {
        flex-direction: column;
    }
    
    .add-item-row {
        flex-wrap: wrap;
    }
    
    .preview-info {
        grid-template-columns: 1fr;
    }
}
```

---

## ナンバープレート入力UI

### 特殊レイアウト

```
┌──────┐ ┌────┐ ┌──┐   ┌──────┐
│品川   │ │500 │ │あ │ - │1234  │
└──────┘ └────┘ └──┘   └──────┘
  地域     分類   かな   一連番号
 (80px)  (60px) (50px)  (80px)
```

### 入力モード

- 地域: `ime-mode: active`（日本語入力ON）
- 分類: `ime-mode: disabled`（数字入力）
- かな: `ime-mode: active`（日本語入力ON）
- 番号: `ime-mode: disabled`（数字入力）

---

## アクセシビリティ

### キーボードナビゲーション

- Enterキー: 次の入力欄に移動
- Shift+Enter: 前の入力欄に戻る
- Tab: フォーカス移動

### ラベル

- すべての入力フィールドにラベル付与
- 必須項目に `*` マーク表示

```html
<label>使用者氏名/名称 <span class="required">*</span></label>
```

---

## エラー表示

### フォームバリデーション

- 入力エラー時: 赤枠線
- エラーメッセージ: 入力フィールド下に表示

### アラート

- `alert()` によるシンプルな通知
- モーダル内での結果表示（成功/失敗）

---

## ローディング表示

### 現在の実装

- 即時応答を想定（ローディング表示なし）
- API待機時はブラウザの標準動作

### 推奨改善

- ボタン押下時のローディングスピナー追加
- API待機中のオーバーレイ表示

---

## 更新履歴

| バージョン | 日付 | 更新者 | 内容 |
|-----------|------|--------|------|
| 1.0 | 2026-02-03 | - | 初版作成 |
